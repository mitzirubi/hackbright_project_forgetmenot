{% extends 'base.html' %}
{% block content %}

<form action="/logout" method="POST">
        <input type="submit" value="logout">
</form>

<!--my profile a header option , image profile will be links when user clicks photo !-->  
<!--map option will be at the top as well as a home button page !--> 

<h2>Visited Locations</h2>
<p><a href="/placesvisited">locations off my list</a></p>

<h2>Forgetmenot Map</h2>
<p><a href="/mapmehere">Find your favorite post on the map!</a></p>


<div>
    <h2>Forgetmenot favorited photos:</h2>
                <!--likedimage = list !--> 

    <form  id="visited-validation-form" action="/placesvisited" method="POST">
        
   
    {% for image in likedimages %}
        
        <!--grabbing attribute from object, and links to place profile !--> 
        <a href = "/likedimageinfo/{{ image.place.place_id }}">
        
        <img class="likedimage" src="{{ image.image_url }} "> </a></td>
        
        <a href = "/likedimageinfo/{{ image.place.place_id }}"> 
            {{ image.place.place_name }} </a></td> 

        Location:{{ image.place.latitude }} {{ image.place.longitude }}
    
        <!--Input changed to radio of places user has visited !--> 
        <label> Visited? 
            <p>
                {{ image.place.place_id }}
             <input type="radio" name="{{ image.place.place_id }}" value="yes"
             {% if image.visited %} checked 
                {% endif %}>Yes
             <input type="radio" name="{{ image.place.place_id }}" value="no">No
            </p>
        </label>

    {% endfor %}

    </form>
    
    <!--Submitting form via JS !--> 
    <script>

    $('#visited-validation-form input[type=radio]').on('click', submitMyForm);

    function submitMyForm() {
        alert("Visited places updated!")
        $('#visited-validation-form').submit();
    }

    </script> 
   
</div>

{% endblock %}